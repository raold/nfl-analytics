
Attaching package: ‘dplyr’

The following objects are masked from ‘package:stats’:

    filter, lag

The following objects are masked from ‘package:base’:

    intersect, setdiff, setequal, union

=== NFL Roster & Player Data Backfill ===

Creating players table...
[1] 0
[1] 0
[1] 0
Creating rosters table...
[1] 0
Loading rosters from nflreadr for seasons 1999 to 2024 ...
Loaded 63343 roster-week entries

Extracting unique players...
Found 15225 unique players
Writing players to database...
✓ Wrote 15225 players

Processing rosters by season...

1999 : No data
2000 : No data
2001 : No data
2002 : Wrote 2029 roster entries
2003 : Wrote 2031 roster entries
2004 : Wrote 2061 roster entries
2005 : Wrote 2046 roster entries
2006 : Wrote 2058 roster entries
2007 : Wrote 2073 roster entries
2008 : Wrote 2074 roster entries
2009 : Wrote 2101 roster entries
2010 : Wrote 2147 roster entries
2011 : Wrote 2097 roster entries
2012 : Wrote 2119 roster entries
2013 : Wrote 2136 roster entries
2014 : Wrote 2152 roster entries
2015 : Wrote 2189 roster entries
2016 : Wrote 3061 roster entries
2017 : Wrote 3082 roster entries
2018 : Wrote 3141 roster entries
2019 : Wrote 3113 roster entries
2020 : Wrote 3067 roster entries
2021 : Wrote 2960 roster entries
2022 : Wrote 3133 roster entries
2023 : Wrote 3089 roster entries
2024 : Wrote 3215 roster entries


Creating indexes...
[1] 0
[1] 0
[1] 0
[1] 0
[1] 0
✓ Indexes created

=== Verification ===

Players by position:
  position player_count unique_names
1       WR         2053         2039
2       OL         1586         1579
3       LB         1506         1502
4       DL         1395         1392
5       RB         1335         1330
6       TE          987          985
7       QB          590          590
8       CB          478          477
9        S           23           23

Rosters by season:
   season roster_entries teams unique_players
1    2002           2029    32           1963
2    2003           2031    32           1976
3    2004           2061    32           1993
4    2005           2046    32           1996
5    2006           2058    32           1991
6    2007           2073    32           2000
7    2008           2074    32           2003
8    2009           2101    32           2013
9    2010           2147    32           2036
10   2011           2097    32           2022
11   2012           2119    32           2031
12   2013           2136    32           2032
13   2014           2152    32           2053
14   2015           2189    32           2064
15   2016           3061    32           3061
16   2017           3082    32           3082
17   2018           3141    32           3141
18   2019           3113    32           3112
19   2020           3067    32           3067
20   2021           2960    32           2960
21   2022           3133    32           3133
22   2023           3089    32           3089
23   2024           3215    32           3215

Sample: 2023 Week 1 Kansas City Chiefs roster:
    player_id     player_name position jersey_number depth_chart_position
1  00-0037634      Duron Lowe       DB            42                   CB
2  00-0038510    Anthony Cook       DB            47                   FS
3  00-0038517   Isaiah Norman       DB            46                   SS
4  00-0035423     Daniel Wise       DL            96                   DE
5  00-0036632  Joshua Kaindoh       DL            59                   DE
6  00-0038511  Anderson Hardy       OL            68                    T
7  00-0037210    Jerrion Ealy       RB            39                   RB
8  00-0035603 Kendall Blanton       TE            80                   TE
9  00-0038520        Ty Scott       WR            85                   WR
10 00-0035782     Juwan Green       WR            89                   WR

✅ Roster backfill complete!
Created tables: players ( 15225 rows), rosters (multiple seasons)
Next step: Rscript R/backfill_game_metadata.R
